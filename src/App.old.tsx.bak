import { useState } from "react";
import React from "react";
import svgPaths from "./imports/svg-0v6931dpap";
import headerSvgPaths from "./imports/svg-kwjjhvy67g";
import welcomeSvgPaths from "./imports/svg-pznj1xjpkc";
import registrationSvgPaths from "./imports/svg-6fx8a3ifhl";
import codeVerificationSvgPaths from "./imports/svg-80k7bb1k4n";
import { ChatInterface } from "./components/chat-interface";
import imgAvatar from "figma:asset/67da9fddd372b1b5b44ffef41eed6ceb810ddf8a.png";
import imgAvatar1 from "figma:asset/261d783da4147da7fea569d1940840845897657f.png";
import imgAvatar2 from "figma:asset/30d4a462ea7b6e1428ffcb7ed5d646ca522e5a23.png";
import imgAvatar3 from "figma:asset/4e18492d9e016d792d3dfe93dd80d52dd96046ee.png";
import imgAvatar4 from "figma:asset/0728c923a00edf130deb71506d0756fc0d57a8b8.png";
import imgAvatar5 from "figma:asset/d9ddce204792163ce745396135bdc5f320b012d7.png";
import imgAvatar6 from "figma:asset/3bbe168eab287460eef89ff5351e750f87e0634b.png";
import imgAvatar7 from "figma:asset/05be041b58b5e1fe37be4a6bb5a74f76d7c0f06d.png";
import imgAvatar8 from "figma:asset/264ae50c597aef89a0c4eff3aa6d5fa1503db174.png";
import imgAvatar9 from "figma:asset/d62f72d9c8052940bb7983e7caefb57013f80477.png";
import imgImage1 from "figma:asset/7eba31ffe88f70c7b44a4873f02e2ee7c6376b93.png";
import imgImage2 from "figma:asset/569b9744c9397ecbed02f1e6cb9980c3ddb12166.png";
import imgAvatar10 from "figma:asset/504bc691102d8a6217d1fc1f8e79a810b1842a0d.png";
import imgAvatar11 from "figma:asset/74c60f24857ed03c48e8a06aff8d4bced17c0656.png";
import imgAvatar12 from "figma:asset/f8b512035a2e42c8ec0c92cd29eb940180f4d6b5.png";
import imgAvatar13 from "figma:asset/2f1190870d753151f58657595136f67c584b5c8c.png";

function BadgeBase() {
  return (
    <div className="bg-background border border-border rounded-2xl px-2 py-0.5 flex items-center justify-center">
      <p className="text-caption text-primary">Looking to start a business in Dubai?</p>
    </div>
  );
}

function Badge() {
  return (
    <div className="flex items-start">
      <BadgeBase />
    </div>
  );
}

function ArrowRight() {
  return (
    <div className="w-4 h-4">
      <svg className="w-full h-full" fill="none" viewBox="0 0 16 16">
        <path d={svgPaths.p3f191380} stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.3333" className="text-primary" />
      </svg>
    </div>
  );
}

function Content() {
  return (
    <div className="flex items-center gap-1">
      <p className="text-caption text-primary">Do it now</p>
      <ArrowRight />
    </div>
  );
}

function BadgeGroup() {
  return (
    <div className="bg-accent/10 rounded-2xl px-2.5 py-1 flex items-center gap-2 whitespace-nowrap">
      <Badge />
      <Content />
    </div>
  );
}

function HeadingAndBadge() {
  return (
    <div className="flex flex-col items-center gap-4 w-full">
      <BadgeGroup />
      <h2 className="text-center w-full">Zero Risk. Zero Fees. A Real Business</h2>
    </div>
  );
}

function HeadingAndSupportingText() {
  return (
    <div className="flex flex-col items-center gap-4 w-full">
      <HeadingAndBadge />
      <p className="text-center text-muted-foreground w-full">
        Our promise is simple: we will never charge you a service fee for helping you set up your company in the UAE
      </p>
    </div>
  );
}

function ButtonBase() {
  return (
    <div className="w-full bg-primary rounded-lg">
      <div className="flex items-center justify-center w-full">
        <div className="flex items-center justify-center px-5 py-3 w-full">
          <span className="text-primary-foreground">Try for free</span>
        </div>
      </div>
    </div>
  );
}

function Button({ onClick }: { onClick: () => void }) {
  return (
    <button onClick={onClick} className="w-full rounded-lg">
      <ButtonBase />
    </button>
  );
}

function SecondaryButton({ onClick }: { onClick: () => void }) {
  return (
    <button onClick={onClick} className="w-full rounded-lg">
      <div className="w-full bg-accent/10 rounded-lg border border-accent/20">
        <div className="flex items-center justify-center w-full">
          <div className="flex items-center justify-center px-5 py-3 w-full">
            <span className="text-primary">Log in</span>
          </div>
        </div>
      </div>
    </button>
  );
}

function Content1({ onStartClick, onLoginClick }: { onStartClick: () => void, onLoginClick: () => void }) {
  return (
    <div className="flex flex-col items-center gap-8 w-full">
      <HeadingAndSupportingText />
      <div className="flex flex-col gap-3 w-full">
        <Button onClick={onStartClick} />
        <SecondaryButton onClick={onLoginClick} />
      </div>
    </div>
  );
}

function Container({ onStartClick, onLoginClick }: { onStartClick: () => void, onLoginClick: () => void }) {
  return (
    <div className="w-full">
      <div className="flex flex-col items-center w-full">
        <div className="flex flex-col items-center gap-8 px-4 w-full">
          <Content1 onStartClick={onStartClick} onLoginClick={onLoginClick} />
          <div className="bg-muted h-[365px] rounded-t-2xl w-full" />
        </div>
      </div>
    </div>
  );
}

function Section({ onStartClick, onLoginClick }: { onStartClick: () => void, onLoginClick: () => void }) {
  return (
    <div className="flex flex-col items-center gap-16 pt-20 w-full border-b border-border/20">
      <Container onStartClick={onStartClick} onLoginClick={onLoginClick} />
    </div>
  );
}

function Avatar({ image }: { image: string }) {
  return (
    <div 
      className="w-8 h-8 rounded-full bg-cover bg-center border-2 border-background -mr-2"
      style={{ backgroundImage: `url('${image}')` }}
    />
  );
}

function Avatar10() {
  return (
    <div className="w-8 h-8 rounded-full bg-accent/10 border-2 border-background -mr-2 flex items-center justify-center">
      <span className="text-caption text-primary">+5</span>
    </div>
  );
}

function Avatars() {
  return (
    <div className="flex items-start pr-2">
      <Avatar image={imgAvatar} />
      <Avatar image={imgAvatar1} />
      <Avatar image={imgAvatar2} />
      <Avatar image={imgAvatar3} />
      <Avatar image={imgAvatar4} />
      <Avatar image={imgAvatar5} />
      <Avatar image={imgAvatar6} />
      <Avatar image={imgAvatar7} />
      <Avatar image={imgAvatar8} />
      <Avatar image={imgAvatar9} />
      <Avatar10 />
    </div>
  );
}

function AvatarGroup() {
  return (
    <div className="flex items-start gap-2">
      <Avatars />
    </div>
  );
}

function Frame5() {
  return (
    <div className="flex flex-col items-center gap-4 w-full">
      <p className="text-center w-full">Trusted by 100+ companies & startups</p>
      <AvatarGroup />
    </div>
  );
}

function Frame4() {
  return (
    <div className="flex items-center justify-center px-0 py-1">
      <span className="text-label text-muted-foreground">Official Partner</span>
    </div>
  );
}

function Frame3() {
  return (
    <div className="flex flex-col items-center justify-center gap-2">
      <div 
        className="w-[115px] h-8 bg-cover bg-center"
        style={{ backgroundImage: `url('${imgImage1}')` }}
      />
      <Frame4 />
    </div>
  );
}

function Container1() {
  return (
    <div className="w-full">
      <div className="flex flex-col items-center w-full">
        <div className="flex flex-col items-center gap-8 px-4 w-full">
          <Frame5 />
          <Frame3 />
          <div 
            className="w-[158px] h-[158px] bg-cover bg-center"
            style={{ backgroundImage: `url('${imgImage2}')` }}
          />
        </div>
      </div>
    </div>
  );
}

function Section1() {
  return (
    <div className="flex flex-col items-center gap-16 py-16 w-full">
      <Container1 />
    </div>
  );
}

function Divider() {
  return (
    <div className="bg-background flex items-start justify-center w-full">
      <div className="flex-1 h-px border-t border-border" />
    </div>
  );
}

function HeadingAndSubheading() {
  return (
    <div className="flex flex-col gap-3 w-full">
      <span className="text-label text-primary w-full">Features</span>
      <h3 className="w-full">Why pay more? Get a complete company setup with zero service fees</h3>
    </div>
  );
}

function HeadingAndSupportingText1() {
  return (
    <div className="flex flex-col items-center gap-4 text-center w-full">
      <HeadingAndSubheading />
      <p className="text-muted-foreground w-full">
        We don't charge a cent for our services. You only pay for the official government and licensing fees
      </p>
    </div>
  );
}

function Content2() {
  return (
    <div className="flex flex-col items-center gap-12 w-full">
      <HeadingAndSupportingText1 />
    </div>
  );
}

function Container3() {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start gap-8 px-4 w-full">
          <Content2 />
        </div>
      </div>
    </div>
  );
}

function Globe() {
  return (
    <div className="absolute left-2.5 top-2.5 w-5 h-5">
      <svg className="w-full h-full" fill="none" viewBox="0 0 20 20">
        <g clipPath="url(#clip0_2_8826)">
          <path d={svgPaths.pa3bf780} stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.66667" className="text-primary" />
        </g>
        <defs>
          <clipPath id="clip0_2_8826">
            <rect fill="white" height="20" width="20" />
          </clipPath>
        </defs>
      </svg>
    </div>
  );
}

function FeaturedIcon() {
  return (
    <div className="bg-accent/10 relative rounded-full w-10 h-10 border-4 border-accent/20">
      <Globe />
    </div>
  );
}

function TextAndSupportingText() {
  return (
    <div className="flex flex-col items-center gap-1 text-center w-full">
      <h4 className="w-full font-semibold">Remote Application Submission and Status Tracking</h4>
      <p className="text-base text-muted-foreground w-full font-normal">
        Incorporate your company in Dubai entirely online. Submit your application remotely and track its progress in real time — no flights or extra expenses needed.
      </p>
    </div>
  );
}

function FeatureText() {
  return (
    <div className="flex flex-col items-center gap-4 w-full">
      <FeaturedIcon />
      <TextAndSupportingText />
    </div>
  );
}

function Check() {
  return (
    <div className="absolute left-2.5 top-2.5 w-5 h-5">
      <svg className="w-full h-full" fill="none" viewBox="0 0 20 20">
        <path d={svgPaths.p32ddfd00} stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.66667" className="text-primary" />
      </svg>
    </div>
  );
}

function FeaturedIcon1() {
  return (
    <div className="bg-accent/10 relative rounded-full w-10 h-10 border-4 border-accent/20">
      <Check />
    </div>
  );
}

function TextAndSupportingText1() {
  return (
    <div className="flex flex-col items-center gap-1 text-center w-full">
      <h4 className="w-full font-semibold">Official IFZA Partner</h4>
      <p className="text-base text-muted-foreground w-full font-normal">
        We work directly with the International Free Zone Authority (IFZA). This ensures full legal compliance, faster registration timelines, and increased trust from investors and banks.
      </p>
    </div>
  );
}

function FeatureText1() {
  return (
    <div className="flex flex-col items-center gap-4 w-full">
      <FeaturedIcon1 />
      <TextAndSupportingText1 />
    </div>
  );
}

function Zap() {
  return (
    <div className="absolute left-2.5 top-2.5 w-5 h-5">
      <svg className="w-full h-full" fill="none" viewBox="0 0 20 20">
        <path d={svgPaths.p28e15280} stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.66667" className="text-primary" />
      </svg>
    </div>
  );
}

function FeaturedIcon2() {
  return (
    <div className="bg-accent/10 relative rounded-full w-10 h-10 border-4 border-accent/20">
      <Zap />
    </div>
  );
}

function TextAndSupportingText2() {
  return (
    <div className="flex flex-col items-center gap-1 text-center w-full">
      <h4 className="w-full font-semibold">Personal AI Legal Assistant</h4>
      <p className="text-base text-muted-foreground w-full font-normal">
        Get answers to your legal questions 24/7. The AI assistant explains complex processes in simple terms and guides you step by step through business registration.
      </p>
    </div>
  );
}

function FeatureText2() {
  return (
    <div className="flex flex-col items-center gap-4 w-full">
      <FeaturedIcon2 />
      <TextAndSupportingText2 />
    </div>
  );
}

function Content3() {
  return (
    <div className="flex flex-col items-start gap-10 w-full">
      <FeatureText />
      <FeatureText1 />
      <FeatureText2 />
    </div>
  );
}

function Container4() {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start px-4 w-full">
          <Content3 />
        </div>
      </div>
    </div>
  );
}

function FeaturesSection() {
  return (
    <div className="bg-background flex flex-col items-center gap-12 py-16 w-full">
      <Container3 />
      <Container4 />
    </div>
  );
}

function CompanyLogo() {
  return (
    <div className="w-[140.833px] h-10">
      <svg className="w-full h-full" fill="none" viewBox="0 0 141 40">
        <g>
          <g>
            <rect fill="var(--color-chart-1)" height="7.99999" width="7.99999" y="16" />
            <rect fill="var(--color-chart-3)" height="7.99999" transform="rotate(180 24 24)" width="8" x="24" y="24" />
            <path d={svgPaths.pf80fe80} fill="var(--color-chart-2)" />
            <path d={svgPaths.p188d9c80} fill="var(--color-chart-2)" />
            <path d={svgPaths.p2c3042b0} fill="var(--color-chart-1)" />
            <path d={svgPaths.p2d55fe00} fill="var(--color-chart-3)" />
          </g>
          <g>
            <path d={svgPaths.p3e8ae200} fill="currentColor" />
            <path d={svgPaths.p39b89600} fill="currentColor" />
            <path d={svgPaths.p105c8e00} fill="currentColor" />
            <path d={svgPaths.p305bee00} fill="currentColor" />
            <path d={svgPaths.p39776c80} fill="currentColor" />
            <path d={svgPaths.p171ff500} fill="currentColor" />
            <path d={svgPaths.p2d6c2940} fill="currentColor" />
            <path d={svgPaths.p20a59b80} fill="currentColor" />
          </g>
        </g>
      </svg>
    </div>
  );
}

function Frame2() {
  return (
    <div className="flex flex-col gap-2.5 items-start">
      <CompanyLogo />
      <p className="text-muted-foreground">Member of the IFZA Free Zone</p>
    </div>
  );
}

function Frame1() {
  return (
    <div className="flex flex-col gap-5 items-start w-full">
      <h4 className="w-full">
        I had long planned to enter the UAE market, but the complexity of bureaucracy and the need for physical presence always held me back...
      </h4>
      <p className="text-muted-foreground w-full">
        Through Adlex.ai, I was able to register a company in Dubai completely remotely. The service guided me step by step through the entire process — from choosing a business activity to obtaining a license. What I especially liked was that all documents are signed online, and payments go directly through the free zone, which builds trust.
      </p>
    </div>
  );
}

function Avatar11() {
  return (
    <div 
      className="w-16 h-16 rounded-full bg-cover bg-center"
      style={{ backgroundImage: `url('${imgAvatar10}')` }}
    />
  );
}

function TextAndSupportingText3() {
  return (
    <div className="flex-1 flex flex-col gap-1 items-start">
      <h4 className="w-full font-semibold">Candice Wu</h4>
      <p className="text-base text-muted-foreground w-full font-normal">Product Manager, Sisyphus</p>
    </div>
  );
}

function AvatarAndText() {
  return (
    <div className="flex items-center gap-4 w-full">
      <Avatar11 />
      <TextAndSupportingText3 />
    </div>
  );
}

function QuoteAndAttribution() {
  return (
    <div className="flex flex-col items-start gap-8 w-full">
      <Frame2 />
      <Frame1 />
      <AvatarAndText />
    </div>
  );
}

function Content4() {
  return (
    <div className="flex flex-col items-start gap-10 w-full">
      <QuoteAndAttribution />
    </div>
  );
}

function Container5() {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start gap-8 px-4 w-full">
          <Content4 />
        </div>
      </div>
    </div>
  );
}

function QuoteSection() {
  return (
    <div className="bg-muted flex flex-col items-center gap-16 py-16 w-full overflow-hidden">
      <Container5 />
    </div>
  );
}

function HeadingAndSupportingText2() {
  return (
    <div className="flex flex-col items-center gap-4 text-center w-full">
      <h3 className="w-full">FAQ</h3>
      <p className="text-muted-foreground w-full">Everything you need to know about the product and billing.</p>
    </div>
  );
}

function Content5() {
  return (
    <div className="flex flex-col items-center gap-12 w-full">
      <HeadingAndSupportingText2 />
    </div>
  );
}

function Container7() {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start gap-8 px-4 w-full">
          <Content5 />
        </div>
      </div>
    </div>
  );
}

function TextAndSupportingText4() {
  return (
    <div className="flex-1 flex flex-col gap-2 items-start">
      <h4 className="w-full font-semibold">Can I sign up for a free trial?</h4>
      <p className="text-base text-muted-foreground w-full font-normal">
        Absolutely! You can enjoy a free trial for 30 days. Additionally, we offer a complimentary 30-minute onboarding call tailored just for you to help you get started quickly.
      </p>
    </div>
  );
}

function MinusCircle() {
  return (
    <div className="w-6 h-6">
      <svg className="w-full h-full" fill="none" viewBox="0 0 24 24">
        <path d={svgPaths.p173e230} stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" className="text-primary" />
      </svg>
    </div>
  );
}

function IconWrap() {
  return (
    <div className="flex flex-col items-start pt-0.5">
      <MinusCircle />
    </div>
  );
}

function Content6() {
  return (
    <div className="flex items-start gap-2 w-full">
      <TextAndSupportingText4 />
      <IconWrap />
    </div>
  );
}

function FaqItem() {
  return (
    <div className="flex flex-col items-center w-full">
      <Content6 />
    </div>
  );
}

function PlusCircle() {
  return (
    <div className="w-6 h-6">
      <svg className="w-full h-full" fill="none" viewBox="0 0 24 24">
        <path d={svgPaths.p2bb5ce00} stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" className="text-primary" />
      </svg>
    </div>
  );
}

function FaqItemClosed({ question }: { question: string }) {
  return (
    <div className="flex flex-col items-center gap-6 w-full">
      <div className="bg-border h-px w-full" />
      <div className="flex items-start gap-2 w-full">
        <div className="flex-1 flex flex-col gap-2 items-start">
          <h4 className="w-full font-semibold">{question}</h4>
        </div>
        <div className="flex flex-col items-start pt-0.5">
          <PlusCircle />
        </div>
      </div>
    </div>
  );
}

function Content12() {
  return (
    <div className="flex flex-col items-start gap-8 w-full">
      <FaqItem />
      <FaqItemClosed question="Is it possible to upgrade or downgrade my business plan after registration?" />
      <FaqItemClosed question="What are the terms for canceling my remote company registration?" />
      <FaqItemClosed question="Can I include additional details on my invoices when using Adlex AI?" />
      <FaqItemClosed question="What are the steps to set up billing for a remote company through Adlex AI?" />
      <FaqItemClosed question="How can I update the email associated with my remote business account?" />
    </div>
  );
}

function Container8() {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start px-4 w-full">
          <Content12 />
        </div>
      </div>
    </div>
  );
}

function HeadingAndSupportingText3() {
  return (
    <div className="flex flex-col items-center gap-4 text-center w-full">
      <h3 className="w-full">Want to give it a try?</h3>
      <p className="text-muted-foreground w-full">Start your journey today and see how simple company registration can be</p>
    </div>
  );
}

function ButtonBase1() {
  return (
    <div className="flex-1 bg-primary rounded-lg">
      <div className="flex items-center justify-center overflow-hidden w-full">
        <div className="flex items-center justify-center px-5 py-3 w-full">
          <span className="text-primary-foreground">Get started</span>
        </div>
      </div>
    </div>
  );
}

function Button1({ onClick }: { onClick: () => void }) {
  return (
    <button onClick={onClick} className="flex items-start rounded-lg w-full">
      <ButtonBase1 />
    </button>
  );
}

function Content13({ onStartClick }: { onStartClick: () => void }) {
  return (
    <div className="flex flex-col items-center gap-8 w-full">
      <HeadingAndSupportingText3 />
      <Button1 onClick={onStartClick} />
    </div>
  );
}

function Container9({ onStartClick }: { onStartClick: () => void }) {
  return (
    <div className="flex flex-col items-start gap-8 w-full">
      <Content13 onStartClick={onStartClick} />
    </div>
  );
}

function Container10({ onStartClick }: { onStartClick: () => void }) {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start gap-8 px-4 py-12 w-full">
          <Container9 onStartClick={onStartClick} />
        </div>
      </div>
    </div>
  );
}

function AvatarGroup1() {
  return (
    <div className="w-[120px] h-14 relative">
      <div 
        className="absolute left-0 top-2 w-12 h-12 rounded-full bg-cover bg-center border-2 border-background"
        style={{ backgroundImage: `url('${imgAvatar11}')` }}
      />
      <div 
        className="absolute left-[72px] top-2 w-12 h-12 rounded-full bg-cover bg-center border-2 border-background"
        style={{ backgroundImage: `url('${imgAvatar12}')` }}
      />
      <div 
        className="absolute left-8 top-0 w-14 h-14 rounded-full bg-cover bg-center border-2 border-background"
        style={{ backgroundImage: `url('${imgAvatar13}')` }}
      />
    </div>
  );
}

function HeadingAndSupportingText4() {
  return (
    <div className="flex flex-col items-center gap-2 text-center w-full">
      <h4 className="w-full font-semibold">Still have questions?</h4>
      <p className="text-base text-muted-foreground w-full font-normal">
        Can't find the answer you're looking for? Please chat to our friendly team.
      </p>
    </div>
  );
}

function ButtonBase2() {
  return (
    <div className="bg-primary rounded-lg">
      <div className="flex items-center justify-center overflow-hidden px-4.5 py-2.5">
        <span className="text-primary-foreground">Get in touch</span>
      </div>
    </div>
  );
}

function Button2({ onClick }: { onClick: () => void }) {
  return (
    <button onClick={onClick} className="flex items-start rounded-lg">
      <ButtonBase2 />
    </button>
  );
}

function Actions({ onContactClick }: { onContactClick: () => void }) {
  return (
    <div className="flex items-start gap-3">
      <Button2 onClick={onContactClick} />
    </div>
  );
}

function Content14({ onContactClick }: { onContactClick: () => void }) {
  return (
    <div className="bg-muted rounded-2xl w-full">
      <div className="flex flex-col items-center w-full">
        <div className="flex flex-col items-center gap-6 px-5 py-8 w-full">
          <AvatarGroup1 />
          <HeadingAndSupportingText4 />
          <Actions onContactClick={onContactClick} />
        </div>
      </div>
    </div>
  );
}

function FaqSection({ onStartClick, onContactClick }: { onStartClick: () => void, onContactClick: () => void }) {
  return (
    <div className="bg-background flex flex-col items-center gap-12 py-16 w-full">
      <Container7 />
      <Container8 />
      <Container10 onStartClick={onStartClick} />
      <Content14 onContactClick={onContactClick} />
    </div>
  );
}

function Frame34() {
  return (
    <div className="flex items-center justify-center gap-2.5 w-[126px] h-8">
      <div className="w-8 h-8">
        <svg className="w-full h-full" fill="none" viewBox="0 0 32 32">
          <path d={svgPaths.p2a153b00} fill="white" />
        </svg>
      </div>
      <span className="text-h4 text-white">AdlexAI</span>
    </div>
  );
}

function Container12() {
  return (
    <div className="w-full">
      <div className="flex flex-col items-center w-full">
        <div className="flex flex-col items-center gap-8 px-4 w-full">
          <Frame34 />
        </div>
      </div>
    </div>
  );
}

function Content15() {
  return (
    <div className="flex flex-col items-start gap-8 w-full">
      <p className="text-metadata text-center w-full" style={{ color: '#a5a6f6' }}>
        © 2077 Untitled UI. All rights reserved.
      </p>
    </div>
  );
}

function Container13() {
  return (
    <div className="w-full">
      <div className="w-full">
        <div className="flex flex-col items-start gap-8 px-4 w-full">
          <Content15 />
        </div>
      </div>
    </div>
  );
}

function Footer() {
  return (
    <div className="flex flex-col items-center gap-12 px-0 py-12 w-full" style={{ backgroundColor: '#53389e' }}>
      <Container12 />
      <Container13 />
    </div>
  );
}

function Header({ onStartClick }: { onStartClick: () => void }) {
  return (
    <div className="bg-background flex flex-col items-center justify-center px-0 py-3 w-full border-b border-border">
      <div className="w-full">
        <div className="flex items-center w-full">
          <div className="flex items-center justify-between px-4 pr-3 py-0 w-full">
            <div className="flex gap-2.5 h-8 items-center justify-center w-[126px]">
              <div className="w-8 h-8">
                <svg className="w-full h-full" fill="none" viewBox="0 0 32 32">
                  <path d={headerSvgPaths.p2a153b00} fill="currentColor" className="text-primary" />
                </svg>
              </div>
              <div className="text-h4 text-foreground text-center whitespace-nowrap">
                AdlexAI
              </div>
            </div>
            <button onClick={onStartClick} className="flex items-start rounded-lg">
              <div className="bg-primary rounded-lg">
                <div className="flex gap-2 items-center justify-center px-4 py-2.5">
                  <span className="text-label text-primary-foreground whitespace-nowrap">Start now</span>
                </div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}

// Welcome Page Components
function WelcomeLogo() {
  return (
    <div className="flex gap-2.5 h-8 items-center justify-center w-[126px]">
      <div className="w-8 h-8">
        <svg className="w-full h-full" fill="none" viewBox="0 0 32 32">
          <path d={welcomeSvgPaths.p2a153b00} fill="currentColor" className="text-primary" />
        </svg>
      </div>
      <div className="text-h4 text-foreground text-center whitespace-nowrap">
        AdlexAI
      </div>
    </div>
  );
}

function WelcomeContent() {
  return (
    <div className="flex flex-col gap-4 items-center w-full">
      <WelcomeLogo />
      <h2 className="text-center w-full">Welcome to Adlex.ai</h2>
      <p className="text-center text-muted-foreground w-full">
        Open your UAE company fully online — fast, secure, and guided by your personal AI assistant.
      </p>
    </div>
  );
}

function WelcomeMainContainer() {
  return (
    <div className="flex-1 flex flex-col gap-8 items-center justify-center px-4 py-0 w-full">
      <WelcomeContent />
    </div>
  );
}

// Onboarding Components
function OnboardingProgressBar({ currentStep }: { currentStep: number }) {
  return (
    <div className="flex gap-2 items-start w-full">
      {[1, 2, 3, 4].map((step) => (
        <div 
          key={step}
          className={`flex-1 h-2 rounded-lg ${
            step <= currentStep ? 'bg-primary' : 
            step === currentStep + 1 ? 'bg-accent/40' : 'bg-muted'
          }`}
        />
      ))}
    </div>
  );
}

function OnboardingSkipButton({ onSkip }: { onSkip?: () => void }) {
  return (
    <button onClick={onSkip} className="flex gap-2 items-center justify-center">
      <span className="text-button text-muted-foreground">Skip</span>
    </button>
  );
}

function OnboardingBackButton({ onBack }: { onBack: () => void }) {
  return (
    <button onClick={onBack} className="flex gap-2 items-center justify-center">
      <div className="w-5 h-5">
        <svg className="w-full h-full" fill="none" viewBox="0 0 20 20">
          <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.67" className="text-muted-foreground" />
        </svg>
      </div>
      <span className="text-button text-muted-foreground">Back</span>
    </button>
  );
}

function OnboardingNextButton({ onNext, isLast }: { onNext: () => void, isLast?: boolean }) {
  return (
    <button onClick={onNext} className="w-full bg-primary rounded-lg">
      <div className="flex items-center justify-center overflow-hidden w-full">
        <div className="flex items-center justify-center px-5 py-3 w-full">
          <span className="text-primary-foreground">{isLast ? 'Get started' : 'Next'}</span>
        </div>
      </div>
    </button>
  );
}

function OnboardingHeader({ currentStep, onBack, onSkip, showBack }: { 
  currentStep: number, 
  onBack?: () => void, 
  onSkip?: () => void,
  showBack?: boolean 
}) {
  return (
    <div className="flex flex-col gap-6 items-end px-4 pt-4 w-full">
      <div className="flex items-center justify-between w-full">
        {showBack && onBack ? (
          <OnboardingBackButton onBack={onBack} />
        ) : (
          <div />
        )}
        <OnboardingSkipButton onSkip={onSkip} />
      </div>
      <OnboardingProgressBar currentStep={currentStep} />
    </div>
  );
}

function OnboardingContent({ 
  title, 
  description, 
  onNext, 
  isLast 
}: { 
  title: string, 
  description: string, 
  onNext: () => void,
  isLast?: boolean 
}) {
  return (
    <div className="flex flex-col gap-8 items-center px-4 py-8 w-full">
      <div className="flex flex-col gap-4 items-center text-center w-full">
        <h2 className="w-full">{title}</h2>
        <p className="text-muted-foreground w-full">{description}</p>
      </div>
      <OnboardingNextButton onNext={onNext} isLast={isLast} />
    </div>
  );
}

function Onboarding1Screen({ onNext, onSkip }: { onNext: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col justify-between w-full h-screen">
      <OnboardingHeader 
        currentStep={1} 
        onSkip={onSkip}
        showBack={false}
      />
      <OnboardingContent 
        title="Remote Application"
        description="Submit your application fully remotely. No travel, no queues, just a simple online process"
        onNext={onNext}
      />
    </div>
  );
}

function Onboarding2Screen({ onNext, onBack, onSkip }: { onNext: () => void, onBack: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col justify-between w-full h-screen">
      <OnboardingHeader 
        currentStep={2} 
        onBack={onBack}
        onSkip={onSkip}
        showBack={true}
      />
      <OnboardingContent 
        title="Data Security"
        description="All documents are encrypted and shared only with IFZA, our official partner. We follow international ISO standards for data security"
        onNext={onNext}
      />
    </div>
  );
}

function Onboarding3Screen({ onNext, onBack, onSkip }: { onNext: () => void, onBack: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col justify-between w-full h-screen">
      <OnboardingHeader 
        currentStep={3} 
        onBack={onBack}
        onSkip={onSkip}
        showBack={true}
      />
      <OnboardingContent 
        title="Modern Technology"
        description="Automated checks, instant status updates, and a clear progress tracker at every step"
        onNext={onNext}
      />
    </div>
  );
}

function Onboarding4Screen({ onNext, onBack, onSkip }: { onNext: () => void, onBack: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col justify-between w-full h-screen">
      <OnboardingHeader 
        currentStep={4} 
        onBack={onBack}
        onSkip={onSkip}
        showBack={true}
      />
      <OnboardingContent 
        title="AI-Powered Support"
        description="Get instant answers and guidance from our AI assistant throughout your entire business registration journey"
        onNext={onNext}
        isLast={true}
      />
    </div>
  );
}

// New Figma-based Onboarding Components
function FigmaOnboardingSkipButton({ onSkip }: { onSkip?: () => void }) {
  return (
    <button onClick={onSkip} className="flex gap-2 items-center justify-center">
      <span className="text-button text-muted-foreground">Skip</span>
    </button>
  );
}

function FigmaOnboardingBackButton({ onBack }: { onBack: () => void }) {
  return (
    <button onClick={onBack} className="flex gap-2 items-center justify-center">
      <div className="w-5 h-5">
        <svg className="w-full h-full" fill="none" viewBox="0 0 20 20">
          <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.67" className="text-muted-foreground" />
        </svg>
      </div>
      <span className="text-button text-muted-foreground">Back</span>
    </button>
  );
}

function FigmaOnboardingProgressBar({ currentStep }: { currentStep: number }) {
  const getStepColor = (step: number) => {
    if (step < currentStep) return 'bg-primary';
    if (step === currentStep) return 'bg-accent/70';
    return 'bg-muted';
  };

  return (
    <div className="flex gap-2 items-start w-full">
      {[1, 2, 3, 4].map((step) => (
        <div 
          key={step}
          className={`flex-1 h-2 rounded-xl ${getStepColor(step)}`}
        />
      ))}
    </div>
  );
}

function FigmaOnboardingNextButton({ onNext, isLast }: { onNext: () => void, isLast?: boolean }) {
  return (
    <button onClick={onNext} className="w-full bg-primary rounded-lg border border-primary">
      <div className="flex items-center justify-center overflow-hidden w-full">
        <div className="flex items-center justify-center px-5 py-3 w-full">
          <span className="text-button text-primary-foreground">{isLast ? 'Get started' : 'Next'}</span>
        </div>
      </div>
    </button>
  );
}

function FigmaOnboarding1({ onNext, onSkip }: { onNext: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col gap-2.5 items-start justify-end w-full h-screen">
      <div className="flex-1 flex flex-col gap-6 items-end px-4 py-4 w-full">
        <FigmaOnboardingSkipButton onSkip={onSkip} />
        <FigmaOnboardingProgressBar currentStep={1} />
      </div>
      <div className="flex flex-col gap-8 items-center px-4 pb-8 w-full h-[274px]">
        <div className="flex-1 flex flex-col gap-8 items-center w-full">
          <div className="flex-1 flex flex-col gap-4 items-center text-center w-full">
            <h2 className="w-full text-left !text-[32px]">Remote Application</h2>
            <p className="text-muted-foreground w-full text-left !text-[16px]">Submit your application fully remotely. No travel, no queues, just a simple online process</p>
          </div>
          <FigmaOnboardingNextButton onNext={onNext} />
        </div>
      </div>
    </div>
  );
}

function FigmaOnboarding2({ onNext, onBack, onSkip }: { onNext: () => void, onBack: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col gap-2.5 items-start justify-end w-full h-screen">
      <div className="flex-1 flex flex-col gap-6 items-end px-4 py-4 w-full">
        <div className="flex items-center justify-between w-full">
          <FigmaOnboardingBackButton onBack={onBack} />
          <FigmaOnboardingSkipButton onSkip={onSkip} />
        </div>
        <FigmaOnboardingProgressBar currentStep={2} />
      </div>
      <div className="flex flex-col gap-8 items-center px-4 pb-8 w-full h-[274px]">
        <div className="flex-1 flex flex-col gap-8 items-center w-full">
          <div className="flex-1 flex flex-col gap-4 items-center text-center w-full">
            <h2 className="w-full !text-[32px] text-left">Data Security</h2>
            <p className="text-muted-foreground w-full !text-[16px] text-left">All documents are encrypted and shared only with IFZA, our official partner. We follow international ISO standards for data security</p>
          </div>
          <FigmaOnboardingNextButton onNext={onNext} />
        </div>
      </div>
    </div>
  );
}

function FigmaOnboarding3({ onNext, onBack, onSkip }: { onNext: () => void, onBack: () => void, onSkip: () => void }) {
  return (
    <div className="bg-background flex flex-col gap-2.5 items-start justify-end w-full h-screen">
      <div className="flex-1 flex flex-col gap-6 items-end px-4 py-4 w-full">
        <div className="flex items-center justify-between w-full">
          <FigmaOnboardingBackButton onBack={onBack} />
          <FigmaOnboardingSkipButton onSkip={onSkip} />
        </div>
        <FigmaOnboardingProgressBar currentStep={3} />
      </div>
      <div className="flex flex-col gap-8 items-center px-4 pb-8 w-full h-[274px]">
        <div className="flex-1 flex flex-col gap-8 items-center w-full">
          <div className="flex-1 flex flex-col gap-4 items-center text-center w-full">
            <h2 className="w-full text-left !text-[32px]">Modern Technology</h2>
            <p className="text-muted-foreground w-full text-left !text-[16px]">Automated checks, instant status updates, and a clear progress tracker at every step</p>
          </div>
          <FigmaOnboardingNextButton onNext={onNext} />
        </div>
      </div>
    </div>
  );
}

function FigmaOnboarding4({ onNext, onBack, onSkip, onStartWithRegistration }: { onNext: () => void, onBack: () => void, onSkip: () => void, onStartWithRegistration: () => void }) {
  return (
    <div className="bg-background flex flex-col gap-2.5 items-start justify-end w-full h-screen">
      <div className="flex-1 flex flex-col gap-6 items-end px-4 py-4 w-full">
        <div className="flex items-center justify-between w-full">
          <FigmaOnboardingBackButton onBack={onBack} />
          <FigmaOnboardingSkipButton onSkip={onSkip} />
        </div>
        <FigmaOnboardingProgressBar currentStep={4} />
      </div>
      <div className="flex flex-col gap-8 items-center px-4 pb-8 w-full h-[274px]">
        <div className="flex-1 flex flex-col gap-8 items-center w-full">
          <div className="flex-1 flex flex-col gap-4 items-center text-center w-full">
            <h2 className="w-full !text-[32px] text-left">AI-Powered Support</h2>
            <p className="text-muted-foreground w-full !text-[16px] text-left">Get instant answers and guidance from our AI assistant throughout your entire business registration journey</p>
          </div>
          <button onClick={onStartWithRegistration} className="w-full bg-primary rounded-lg">
            <div className="flex items-center justify-center overflow-hidden w-full">
              <div className="flex items-center justify-center px-5 py-3 w-full">
                <span className="text-button text-primary-foreground">Start with registration</span>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
  );
}

function FigmaOnboardingFlow({ onComplete, onStartWithRegistration }: { onComplete: () => void, onStartWithRegistration: () => void }) {
  const [currentStep, setCurrentStep] = useState(1);

  const handleNext = () => {
    if (currentStep < 4) {
      setCurrentStep(currentStep + 1);
    } else {
      onComplete();
    }
  };

  const handleBack = () => {
    if (currentStep > 1) {
      setCurrentStep(currentStep - 1);
    }
  };

  const handleSkip = () => {
    onStartWithRegistration();
  };

  switch (currentStep) {
    case 1:
      return <FigmaOnboarding1 onNext={handleNext} onSkip={handleSkip} />;
    case 2:
      return <FigmaOnboarding2 onNext={handleNext} onBack={handleBack} onSkip={handleSkip} />;
    case 3:
      return <FigmaOnboarding3 onNext={handleNext} onBack={handleBack} onSkip={handleSkip} />;
    case 4:
      return <FigmaOnboarding4 onNext={handleNext} onBack={handleBack} onSkip={handleSkip} onStartWithRegistration={onStartWithRegistration} />;
    default:
      return <FigmaOnboarding1 onNext={handleNext} onSkip={handleSkip} />;
  }
}

// Registration Page Components
function RegistrationHeader() {
  return (
    <div className="flex gap-2.5 h-8 items-center justify-center w-full">
      <div className="w-8 h-8">
        <svg className="w-full h-full" fill="none" viewBox="0 0 32 32">
          <path d={registrationSvgPaths.p2a153b00} fill="currentColor" className="text-primary" />
        </svg>
      </div>
      <div className="text-h4 text-foreground text-center whitespace-nowrap">
        AdlexAI
      </div>
    </div>
  );
}

function RegistrationForm({ onContinue }: { onContinue: () => void }) {
  const [email, setEmail] = useState('');

  return (
    <div className="flex flex-col gap-4 items-start w-full">
      <h2 className="text-center w-full !text-[32px]">Sign up</h2>
      <div className="flex flex-col gap-1.5 items-start w-full">
        <label className="text-label text-foreground">Email</label>
        <input
          type="email"
          value={email}
          onChange={(e) => setEmail(e.target.value)}
          className="w-full bg-input-background border border-border rounded-lg px-3.5 py-2.5 text-base text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"
          placeholder="Enter your email"
        />
      </div>
      <button onClick={onContinue} className="w-full bg-primary rounded-lg">
        <div className="flex items-center justify-center overflow-hidden w-full">
          <div className="flex items-center justify-center px-5 py-3 w-full">
            <span className="text-primary-foreground">Continue</span>
          </div>
        </div>
      </button>
    </div>
  );
}

function RegistrationFooter({ onLogin }: { onLogin: () => void }) {
  return (
    <div className="flex flex-col gap-4 items-center w-full">
      <div className="flex gap-2 items-center">
        <span className="text-base text-foreground">Don't have an account?</span>
        <button onClick={onLogin} className="text-primary">Login</button>
      </div>
      <span className="text-base text-muted-foreground">OR</span>
      <button className="w-full bg-background border border-border rounded-lg">
        <div className="flex items-center justify-center overflow-hidden w-full">
          <div className="flex items-center justify-center gap-3 px-4 py-2.5 w-full">
            <div className="w-6 h-6">
              <svg className="w-full h-full" fill="none" viewBox="0 0 24 24">
                <g clipPath="url(#clip0_2_19268)">
                  <path d={registrationSvgPaths.p30572700} fill="#4285F4" />
                  <path d={registrationSvgPaths.p2d84f580} fill="#34A853" />
                  <path d={registrationSvgPaths.p1de97300} fill="#FBBC04" />
                  <path d={registrationSvgPaths.p1ebd4080} fill="#EA4335" />
                </g>
                <defs>
                  <clipPath id="clip0_2_19268">
                    <rect fill="white" height="24" width="24" />
                  </clipPath>
                </defs>
              </svg>
            </div>
            <span className="text-foreground">Sign in with Google</span>
          </div>
        </div>
      </button>
    </div>
  );
}

function RegistrationPage({ onBack, onContinueToCode, onLogin }: { onBack: () => void, onContinueToCode: () => void, onLogin: () => void }) {
  return (
    <div className="bg-background flex flex-col items-center w-full h-screen">
      <div className="flex flex-col gap-8 items-center px-4 py-8 w-full max-w-sm">
        <RegistrationHeader />
        <RegistrationForm onContinue={onContinueToCode} />
        <RegistrationFooter onLogin={onLogin} />
      </div>
    </div>
  );
}

// Code Verification Page Components
function CodeBackButton({ onBack }: { onBack: () => void }) {
  return (
    <button onClick={onBack} className="flex gap-2 items-center justify-center">
      <div className="w-5 h-5">
        <svg className="w-full h-full" fill="none" viewBox="0 0 20 20">
          <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.67" className="text-muted-foreground" />
        </svg>
      </div>
      <span className="text-button text-muted-foreground">Back</span>
    </button>
  );
}

function CodeVerificationHeader({ onBack }: { onBack: () => void }) {
  return (
    <div className="flex items-center justify-between w-full">
      <CodeBackButton onBack={onBack} />
      <div className="opacity-0">
        <span className="text-button text-muted-foreground">Skip</span>
      </div>
    </div>
  );
}

function CodeVerificationLogo() {
  return (
    <div className="flex gap-2.5 h-8 items-center justify-center">
      <div className="w-8 h-8">
        <svg className="w-full h-full" fill="none" viewBox="0 0 32 32">
          <path d={codeVerificationSvgPaths.p2a153b00} fill="currentColor" className="text-primary" />
        </svg>
      </div>
      <div className="text-h4 text-foreground text-center whitespace-nowrap">
        AdlexAI
      </div>
    </div>
  );
}

function CodeInput({ value, onChange, onKeyDown, inputRef }: { 
  value: string, 
  onChange: (value: string) => void, 
  onKeyDown: (e: React.KeyboardEvent) => void,
  inputRef: React.RefObject<HTMLInputElement>
}) {
  return (
    <div className="w-11 h-11 bg-background border border-border rounded-md shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]">
      <input
        ref={inputRef}
        type="text"
        inputMode="numeric"
        maxLength={1}
        value={value}
        onChange={(e) => onChange(e.target.value.replace(/[^0-9]/g, ''))}
        onKeyDown={onKeyDown}
        className="w-full h-full text-center text-[32px] text-foreground bg-transparent border-none outline-none focus:ring-0"
        style={{ color: value ? 'var(--foreground)' : 'var(--muted-foreground)' }}
      />
    </div>
  );
}

function CodeInputField({ onComplete }: { onComplete: () => void }) {
  const [codes, setCodes] = useState(['', '', '', '']);
  const inputRefs = [
    React.useRef<HTMLInputElement>(null),
    React.useRef<HTMLInputElement>(null),
    React.useRef<HTMLInputElement>(null),
    React.useRef<HTMLInputElement>(null)
  ];

  const handleCodeChange = (index: number, value: string) => {
    const newCodes = [...codes];
    newCodes[index] = value;
    setCodes(newCodes);

    // Auto-focus next input
    if (value && index < 3) {
      inputRefs[index + 1].current?.focus();
    }

    // Check if all 4 codes are filled
    const allFilled = newCodes.every(code => code !== '');
    if (allFilled) {
      // Small delay to show the last digit before triggering completion
      setTimeout(() => {
        onComplete();
      }, 100);
    }
  };

  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {
    if (e.key === 'Backspace' && !codes[index] && index > 0) {
      inputRefs[index - 1].current?.focus();
    }
  };

  return (
    <div className="flex flex-col gap-1 items-start w-full">
      <label className="text-label text-foreground">Secure code</label>
      <div className="flex gap-1.5 items-start">
        {codes.map((code, index) => (
          <CodeInput
            key={index}
            value={code}
            onChange={(value) => handleCodeChange(index, value)}
            onKeyDown={(e) => handleKeyDown(index, e)}
            inputRef={inputRefs[index]}
          />
        ))}
      </div>
    </div>
  );
}

function CodeVerificationContent({ onComplete }: { onComplete: () => void }) {
  const [countdown, setCountdown] = useState(59);

  React.useEffect(() => {
    const timer = setInterval(() => {
      setCountdown((prev) => prev > 0 ? prev - 1 : 0);
    }, 1000);

    return () => clearInterval(timer);
  }, []);

  const formatTime = (seconds: number) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  return (
    <div className="flex flex-col gap-4 items-center w-full">
      <h2 className="text-center w-full !text-[32px]">Secure code</h2>
      <CodeInputField onComplete={onComplete} />
      <button className="w-full bg-primary rounded-lg">
        <div className="flex items-center justify-center overflow-hidden w-full">
          <div className="flex items-center justify-center px-5 py-3 w-full">
            <span className="text-button text-primary-foreground">Continue</span>
          </div>
        </div>
      </button>
    </div>
  );
}

function LoadingSpinner() {
  return (
    <div className="w-8 h-8 border-2 border-muted border-t-primary rounded-full animate-spin" />
  );
}

function CodeVerificationPage({ onBack, onSuccess }: { onBack: () => void, onSuccess: () => void }) {
  const [showLoading, setShowLoading] = useState(false);
  const [showSuccess, setShowSuccess] = useState(false);
  const [countdown, setCountdown] = useState(59);

  React.useEffect(() => {
    const timer = setInterval(() => {
      setCountdown((prev) => prev > 0 ? prev - 1 : 0);
    }, 1000);

    return () => clearInterval(timer);
  }, []);

  const formatTime = (seconds: number) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  const handleComplete = () => {
    setShowLoading(true);
    // Show loading for 2 seconds, then success
    setTimeout(() => {
      setShowLoading(false);
      setShowSuccess(true);
    }, 2000);
  };

  const handleStart = () => {
    onSuccess();
  };

  // Loading Screen
  if (showLoading) {
    return (
      <div className="bg-background flex flex-col items-center justify-center w-full h-screen px-4">
        <div className="flex flex-col gap-6 items-center text-center max-w-sm w-full">
          <LoadingSpinner />
          <div className="flex flex-col gap-2">
            <h2 className="!text-[32px]">Verifying...</h2>
            <p className="text-muted-foreground !text-[16px]">Please wait while we verify your code</p>
          </div>
        </div>
      </div>
    );
  }

  // Success Screen
  if (showSuccess) {
    return (
      <div className="bg-background flex flex-col items-center justify-center w-full h-screen px-4">
        <div className="flex flex-col gap-8 items-center text-center max-w-sm w-full">
          <div className="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center">
            <div className="w-8 h-8 text-primary">
              <svg className="w-full h-full" fill="none" viewBox="0 0 24 24">
                <path d="M20 6L9 17L4 12" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </div>
          </div>
          <div className="flex flex-col gap-2">
            <h2 className="!text-[32px]">Code Verified!</h2>
            <p className="text-muted-foreground !text-[16px]">Your email has been successfully verified</p>
          </div>
          <button onClick={handleStart} className="w-full bg-primary rounded-lg">
            <div className="flex items-center justify-center overflow-hidden w-full">
              <div className="flex items-center justify-center px-5 py-3 w-full">
                <span className="text-button text-primary-foreground">Start</span>
              </div>
            </div>
          </button>
        </div>
      </div>
    );
  }

  // Code Input Screen
  return (
    <div className="bg-background flex flex-col items-center w-full h-screen">
      <div className="flex flex-col gap-8 items-center px-4 py-8 w-full max-w-sm">
        <CodeVerificationHeader onBack={onBack} />
        <CodeVerificationLogo />
        <CodeVerificationContent onComplete={handleComplete} />
        <p className="!text-[16px] text-foreground text-center">
          Resend after {formatTime(countdown)}
        </p>
      </div>
    </div>
  );
}

// Original Onboarding Flow (keeping for backward compatibility)
function OnboardingFlow({ onComplete }: { onComplete: () => void }) {
  const [currentStep, setCurrentStep] = useState(1);

  const handleNext = () => {
    if (currentStep < 4) {
      setCurrentStep(currentStep + 1);
    } else {
      onComplete();
    }
  };

  const handleBack = () => {
    if (currentStep > 1) {
      setCurrentStep(currentStep - 1);
    }
  };

  const handleSkip = () => {
    onComplete();
  };

  switch (currentStep) {
    case 1:
      return <Onboarding1Screen onNext={handleNext} onSkip={handleSkip} />;
    case 2:
      return <Onboarding2Screen onNext={handleNext} onBack={handleBack} onSkip={handleSkip} />;
    case 3:
      return <Onboarding3Screen onNext={handleNext} onBack={handleBack} onSkip={handleSkip} />;
    case 4:
      return <Onboarding4Screen onNext={handleNext} onBack={handleBack} onSkip={handleSkip} />;
    default:
      return <Onboarding1Screen onNext={handleNext} onSkip={handleSkip} />;
  }
}

function WelcomeActions({ onWhatIsAdlex, onRegistration }: { onWhatIsAdlex: () => void, onRegistration: () => void }) {
  return (
    <div className="flex flex-col gap-3 items-start w-full">
      <button onClick={onWhatIsAdlex} className="w-full bg-primary rounded-lg">
        <div className="flex items-center justify-center overflow-hidden w-full">
          <div className="flex items-center justify-center px-5 py-3 w-full">
            <span className="text-primary-foreground">What is Adlex?</span>
          </div>
        </div>
      </button>
      <button onClick={onRegistration} className="w-full bg-accent/10 rounded-lg border border-accent/20">
        <div className="flex items-center justify-center overflow-hidden w-full">
          <div className="flex items-center justify-center px-5 py-3 w-full">
            <span className="text-primary">Registration</span>
          </div>
        </div>
      </button>
    </div>
  );
}

function WelcomeActionsContainer({ onWhatIsAdlex, onRegistration }: { onWhatIsAdlex: () => void, onRegistration: () => void }) {
  return (
    <div className="flex flex-col gap-8 items-center pb-8 pt-0 px-4 w-full">
      <WelcomeActions onWhatIsAdlex={onWhatIsAdlex} onRegistration={onRegistration} />
    </div>
  );
}

function WelcomePage({ onWhatIsAdlex, onRegistration }: { onWhatIsAdlex: () => void, onRegistration: () => void }) {
  return (
    <div className="bg-background flex flex-col items-center justify-between w-full h-screen py-8">
      <WelcomeMainContainer />
      <WelcomeActionsContainer onWhatIsAdlex={onWhatIsAdlex} onRegistration={onRegistration} />
    </div>
  );
}

// Landing Page Component
function LandingPage({ onStartClick, onContactClick, onLoginClick }: { onStartClick: () => void, onContactClick: () => void, onLoginClick: () => void }) {
  return (
    <div className="bg-background flex flex-col w-full min-h-screen">
      <Header onStartClick={onStartClick} />
      <div className="flex-1">
        <Section onStartClick={onStartClick} onLoginClick={onLoginClick} />
        <Section1 />
        <Divider />
        <FeaturesSection />
        <QuoteSection />
        <Divider />
        <FaqSection onStartClick={onStartClick} onContactClick={onContactClick} />
        <Divider />
        <Footer />
      </div>
    </div>
  );
}

export default function App() {
  const [currentPage, setCurrentPage] = useState<'landing' | 'welcome' | 'onboarding' | 'figma-onboarding' | 'registration' | 'code-verification' | 'chat'>('landing');

  const handleStartClick = () => {
    setCurrentPage('welcome');
  };

  const handleContactClick = () => {
    setCurrentPage('welcome');
  };

  const handleWhatIsAdlex = () => {
    setCurrentPage('figma-onboarding');
  };

  const handleRegistration = () => {
    setCurrentPage('registration');
  };

  const handleOnboardingComplete = () => {
    setCurrentPage('welcome');
  };

  const handleFigmaOnboardingComplete = () => {
    setCurrentPage('welcome');
  };

  const handleRegistrationBack = () => {
    setCurrentPage('welcome');
  };

  const handleContinueToCode = () => {
    setCurrentPage('code-verification');
  };

  const handleCodeVerificationBack = () => {
    setCurrentPage('registration');
  };

  const handleCodeVerificationSuccess = () => {
    setCurrentPage('chat');
  };

  if (currentPage === 'chat') {
    return <ChatInterface />;
  }

  if (currentPage === 'code-verification') {
    return <CodeVerificationPage onBack={handleCodeVerificationBack} onSuccess={handleCodeVerificationSuccess} />;
  }

  if (currentPage === 'registration') {
    return <RegistrationPage onBack={handleRegistrationBack} onContinueToCode={handleContinueToCode} onLogin={() => setCurrentPage('chat')} />;
  }

  if (currentPage === 'figma-onboarding') {
    return <FigmaOnboardingFlow onComplete={handleFigmaOnboardingComplete} onStartWithRegistration={handleRegistration} />;
  }

  if (currentPage === 'onboarding') {
    return <OnboardingFlow onComplete={handleOnboardingComplete} />;
  }

  if (currentPage === 'welcome') {
    return <WelcomePage onWhatIsAdlex={handleWhatIsAdlex} onRegistration={handleRegistration} />;
  }

  return <LandingPage onStartClick={handleStartClick} onContactClick={handleContactClick} onLoginClick={() => setCurrentPage('chat')} />;
}